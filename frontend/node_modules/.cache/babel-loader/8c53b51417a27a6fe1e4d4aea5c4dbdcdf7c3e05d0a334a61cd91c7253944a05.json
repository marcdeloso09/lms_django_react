{"ast":null,"code":"import{useState,useEffect,useRef,useCallback}from\"react\";export default function useClassBehavior(){let containerClass=arguments.length>0&&arguments[0]!==undefined?arguments[0]:\"class-container\";const[scrollVelocity,setScrollVelocity]=useState(0);const[hoverDuration,setHoverDuration]=useState(0);const[action,setAction]=useState(\"Normal\");const[focusMode,setFocusMode]=useState(false);const[focusedChatIds,setFocusedChatIds]=useState([]);const[clickErrorRate,setClickErrorRate]=useState(0);const[clickModeActive,setClickModeActive]=useState(false);const[isDimmed,setIsDimmed]=useState(false);// References\nconst lastScrollY=useRef(window.scrollY);const lastTime=useRef(Date.now());const hoverStartTime=useRef(null);const enlargeTimeoutRef=useRef(null);const clickModeTimeoutRef=useRef(null);const totalClicksRef=useRef(0);const errorClicksRef=useRef(0);const idleTimerRef=useRef(null);const activeStartTimeRef=useRef(null);// --- SAVE BEHAVIOR (moved up so it’s defined before being used)\nconst saveBehavior=useCallback(async()=>{try{const token=localStorage.getItem(\"accessToken\");const participantId=localStorage.getItem(\"participantId\");if(!token||!participantId)return;const payload={participant_id:participantId,scroll_velocity:scrollVelocity,hover_duration:\"\".concat(hoverDuration,\"s\"),click_error_rate:clickErrorRate,focus_mode:focusMode?\"Active\":\"Inactive\",action};const res=await fetch(\"http://lms_django_react.onrender.com/api/save-behavior/\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\",Authorization:\"Bearer \".concat(token)},body:JSON.stringify(payload)});if(!res.ok){const errText=await res.text();console.error(\"❌ Failed to save behavior:\",res.status,errText);}else{console.log(\"✅ Behavior saved:\",payload);}}catch(err){console.error(\"⚠️ Error in saveBehavior:\",err);}},[scrollVelocity,hoverDuration,clickErrorRate,focusMode,action]);// --- ENLARGE MODE ---\nconst triggerEnlargeMode=useCallback(()=>{const container=document.querySelector(\".\".concat(containerClass));if(!container)return;document.body.classList.add(\"enlarge-mode\");container.classList.add(\"enlarged\");clearTimeout(enlargeTimeoutRef.current);enlargeTimeoutRef.current=setTimeout(()=>{document.body.classList.remove(\"enlarge-mode\");container.classList.remove(\"enlarged\");if(!clickModeActive&&!focusMode)setAction(\"Normal\");},10000);},[clickModeActive,focusMode,containerClass]);// --- SCROLL DETECTION ---\nuseEffect(()=>{const handleScroll=()=>{const currentY=window.scrollY;const currentTime=Date.now();const dy=Math.abs(currentY-lastScrollY.current);const dt=(currentTime-lastTime.current)/1000;let rawVelocity=dt>0?dy/dt:0;// Smooth cap\nconst maxVelocity=30;const smoothingFactor=0.1;const cappedVelocity=rawVelocity>maxVelocity?scrollVelocity+(maxVelocity-scrollVelocity)*smoothingFactor:rawVelocity;setScrollVelocity(cappedVelocity);lastScrollY.current=currentY;lastTime.current=currentTime;if(cappedVelocity<30&&cappedVelocity>0){clearTimeout(window.scrollDelayTimeout);window.scrollDelayTimeout=setTimeout(()=>{// Save only once per trigger\nif(!window.scrollBehaviorSaved){setAction(\"Slow Scroll Detected\");saveBehavior(\"Scroll Velocity (<30px/s)\",cappedVelocity.toFixed(1));triggerEnlargeMode();window.scrollBehaviorSaved=true;setTimeout(()=>window.scrollBehaviorSaved=false,4000);// reset after 4s\n}},2000);}};lastScrollY.current=window.scrollY;lastTime.current=Date.now();window.addEventListener(\"scroll\",handleScroll,{passive:true});return()=>window.removeEventListener(\"scroll\",handleScroll);},[scrollVelocity,triggerEnlargeMode,saveBehavior]);// --- HOVER HANDLERS ---\nconst handleMouseEnter=useCallback(id=>{hoverStartTime.current=Date.now();const hoverInterval=setInterval(()=>{const elapsed=((Date.now()-hoverStartTime.current)/1000).toFixed(1);setHoverDuration(elapsed);},100);window.hoverInterval=hoverInterval;setTimeout(()=>{setFocusMode(true);setFocusedChatIds(prev=>prev.includes(id)?prev:[...prev,id]);setAction(\"Focus View\");clearTimeout(window.focusTimeout);window.focusTimeout=setTimeout(()=>{setFocusMode(false);setFocusedChatIds([]);if(!clickModeActive)setAction(\"Normal Layout\");},10000);},3000);},[clickModeActive]);const handleMouseLeave=useCallback(()=>{clearInterval(window.hoverInterval);setHoverDuration(0);hoverStartTime.current=null;if(hoverStartTime.current){const elapsed=(Date.now()-hoverStartTime.current)/1000;if(elapsed>=2){saveBehavior(\"Hover Duration (>=2s)\",\"\".concat(elapsed.toFixed(1),\"s\"));}}if(!clickModeActive)setAction(\"Hovering over classes\");},[clickModeActive,saveBehavior]);// --- CLICK ERROR MODE ---\nconst triggerClickErrorMode=useCallback(rate=>{const container=document.querySelector(\".\".concat(containerClass));if(!container)return;setClickModeActive(true);setAction(\"Click Error Mode\");saveBehavior(\"Click Error Rate Trigger (>15%)\",\"\".concat(rate.toFixed(1),\"%\"));container===null||container===void 0?void 0:container.classList.add(\"click-error-enlarged\");clearTimeout(clickModeTimeoutRef.current);clickModeTimeoutRef.current=setTimeout(()=>{setClickModeActive(false);container.classList.remove(\"click-error-enlarged\");totalClicksRef.current=0;errorClicksRef.current=0;setClickErrorRate(0);setAction(\"Normal Layout\");},10000);},[containerClass,saveBehavior]);// --- DIM BACKGROUND ---\nuseEffect(()=>{const resetIdleTimer=()=>{clearTimeout(idleTimerRef.current);idleTimerRef.current=setTimeout(()=>{if(isDimmed){document.body.classList.remove(\"dim-background\");setIsDimmed(false);setAction(\"UI Restored (User Idle)\");saveBehavior(\"Action\",\"UI Restored (User Idle)\");}},10000);};const handleActivity=()=>{const now=Date.now();if(!activeStartTimeRef.current)activeStartTimeRef.current=now;const elapsed=(now-activeStartTimeRef.current)/1000;if(elapsed>=3000&&!isDimmed){document.body.classList.add(\"dim-background\");setIsDimmed(true);setAction(\"UI Dimmed\");saveBehavior(\"Action\",\"UI Dimmed\");}resetIdleTimer();};const handleIdleReset=()=>{activeStartTimeRef.current=null;};window.addEventListener(\"scroll\",handleActivity,{passive:true});window.addEventListener(\"mousemove\",handleActivity);window.addEventListener(\"click\",handleActivity);window.addEventListener(\"keydown\",handleActivity);window.addEventListener(\"blur\",handleIdleReset);return()=>{window.removeEventListener(\"scroll\",handleActivity);window.removeEventListener(\"mousemove\",handleActivity);window.removeEventListener(\"click\",handleActivity);window.removeEventListener(\"keydown\",handleActivity);window.removeEventListener(\"blur\",handleIdleReset);clearTimeout(idleTimerRef.current);};},[isDimmed,saveBehavior]);// --- CLICK TRACKING ---\nuseEffect(()=>{const handleClick=e=>{totalClicksRef.current+=1;const insideContainer=!!e.target.closest(\".\".concat(containerClass));if(!insideContainer)errorClicksRef.current+=1;const rawRate=errorClicksRef.current/totalClicksRef.current*100;const maxRate=20;const smoothingFactor=0.1;const easedRate=rawRate>maxRate?clickErrorRate+(maxRate-clickErrorRate)*smoothingFactor:rawRate;setClickErrorRate(easedRate);if(easedRate>=14&&!clickModeActive)triggerClickErrorMode(easedRate);};document.addEventListener(\"click\",handleClick);return()=>document.removeEventListener(\"click\",handleClick);},[clickErrorRate,clickModeActive,triggerClickErrorMode,containerClass]);return{scrollVelocity,hoverDuration,clickErrorRate,action,handleMouseEnter,handleMouseLeave,clickModeActive,focusMode,focusedChatIds};}","map":{"version":3,"names":["useState","useEffect","useRef","useCallback","useClassBehavior","containerClass","arguments","length","undefined","scrollVelocity","setScrollVelocity","hoverDuration","setHoverDuration","action","setAction","focusMode","setFocusMode","focusedChatIds","setFocusedChatIds","clickErrorRate","setClickErrorRate","clickModeActive","setClickModeActive","isDimmed","setIsDimmed","lastScrollY","window","scrollY","lastTime","Date","now","hoverStartTime","enlargeTimeoutRef","clickModeTimeoutRef","totalClicksRef","errorClicksRef","idleTimerRef","activeStartTimeRef","saveBehavior","token","localStorage","getItem","participantId","payload","participant_id","scroll_velocity","hover_duration","concat","click_error_rate","focus_mode","res","fetch","method","headers","Authorization","body","JSON","stringify","ok","errText","text","console","error","status","log","err","triggerEnlargeMode","container","document","querySelector","classList","add","clearTimeout","current","setTimeout","remove","handleScroll","currentY","currentTime","dy","Math","abs","dt","rawVelocity","maxVelocity","smoothingFactor","cappedVelocity","scrollDelayTimeout","scrollBehaviorSaved","toFixed","addEventListener","passive","removeEventListener","handleMouseEnter","id","hoverInterval","setInterval","elapsed","prev","includes","focusTimeout","handleMouseLeave","clearInterval","triggerClickErrorMode","rate","resetIdleTimer","handleActivity","handleIdleReset","handleClick","e","insideContainer","target","closest","rawRate","maxRate","easedRate"],"sources":["C:/Users/Administrator/Desktop/Folder/Django_React_LMS/frontend/src/Components/Assets/Classroom/useClassBehavior.js"],"sourcesContent":["import { useState, useEffect, useRef, useCallback } from \"react\";\r\n\r\nexport default function useClassBehavior(containerClass = \"class-container\") {\r\n  const [scrollVelocity, setScrollVelocity] = useState(0);\r\n  const [hoverDuration, setHoverDuration] = useState(0);\r\n  const [action, setAction] = useState(\"Normal\");\r\n  const [focusMode, setFocusMode] = useState(false);\r\n  const [focusedChatIds, setFocusedChatIds] = useState([]);\r\n  const [clickErrorRate, setClickErrorRate] = useState(0);\r\n  const [clickModeActive, setClickModeActive] = useState(false);\r\n  const [isDimmed, setIsDimmed] = useState(false);\r\n\r\n  // References\r\n  const lastScrollY = useRef(window.scrollY);\r\n  const lastTime = useRef(Date.now());\r\n  const hoverStartTime = useRef(null);\r\n  const enlargeTimeoutRef = useRef(null);\r\n  const clickModeTimeoutRef = useRef(null);\r\n  const totalClicksRef = useRef(0);\r\n  const errorClicksRef = useRef(0);\r\n  const idleTimerRef = useRef(null);\r\n  const activeStartTimeRef = useRef(null);\r\n\r\n  // --- SAVE BEHAVIOR (moved up so it’s defined before being used)\r\n  const saveBehavior = useCallback(\r\n    async () => {\r\n      try {\r\n        const token = localStorage.getItem(\"accessToken\");\r\n        const participantId = localStorage.getItem(\"participantId\");\r\n        if (!token || !participantId) return;\r\n\r\n        const payload = {\r\n          participant_id: participantId,\r\n          scroll_velocity: scrollVelocity,\r\n          hover_duration: `${hoverDuration}s`,\r\n          click_error_rate: clickErrorRate,\r\n          focus_mode: focusMode ? \"Active\" : \"Inactive\",\r\n          action,\r\n        };\r\n\r\n        const res = await fetch(\"http://lms_django_react.onrender.com/api/save-behavior/\", {\r\n          method: \"POST\",\r\n          headers: {\r\n            \"Content-Type\": \"application/json\",\r\n            Authorization: `Bearer ${token}`,\r\n          },\r\n          body: JSON.stringify(payload),\r\n        });\r\n\r\n        if (!res.ok) {\r\n          const errText = await res.text();\r\n          console.error(\"❌ Failed to save behavior:\", res.status, errText);\r\n        } else {\r\n          console.log(\"✅ Behavior saved:\", payload);\r\n        }\r\n      } catch (err) {\r\n        console.error(\"⚠️ Error in saveBehavior:\", err);\r\n      }\r\n    },\r\n    [scrollVelocity, hoverDuration, clickErrorRate, focusMode, action]\r\n  );\r\n\r\n  // --- ENLARGE MODE ---\r\n  const triggerEnlargeMode = useCallback(() => {\r\n    const container = document.querySelector(`.${containerClass}`);\r\n    if (!container) return;\r\n\r\n    document.body.classList.add(\"enlarge-mode\");\r\n    container.classList.add(\"enlarged\");\r\n\r\n    clearTimeout(enlargeTimeoutRef.current);\r\n    enlargeTimeoutRef.current = setTimeout(() => {\r\n      document.body.classList.remove(\"enlarge-mode\");\r\n      container.classList.remove(\"enlarged\");\r\n      if (!clickModeActive && !focusMode) setAction(\"Normal\");\r\n    }, 10000);\r\n  }, [clickModeActive, focusMode, containerClass]);\r\n\r\n  // --- SCROLL DETECTION ---\r\n  useEffect(() => {\r\n    const handleScroll = () => {\r\n      const currentY = window.scrollY;\r\n      const currentTime = Date.now();\r\n      const dy = Math.abs(currentY - lastScrollY.current);\r\n      const dt = (currentTime - lastTime.current) / 1000;\r\n      let rawVelocity = dt > 0 ? dy / dt : 0;\r\n\r\n      // Smooth cap\r\n      const maxVelocity = 30;\r\n      const smoothingFactor = 0.1;\r\n      const cappedVelocity =\r\n        rawVelocity > maxVelocity\r\n          ? scrollVelocity + (maxVelocity - scrollVelocity) * smoothingFactor\r\n          : rawVelocity;\r\n\r\n      setScrollVelocity(cappedVelocity);\r\n      lastScrollY.current = currentY;\r\n      lastTime.current = currentTime;\r\n\r\n      if (cappedVelocity < 30 && cappedVelocity > 0) {\r\n        clearTimeout(window.scrollDelayTimeout);\r\n        window.scrollDelayTimeout = setTimeout(() => {\r\n          // Save only once per trigger\r\n          if (!window.scrollBehaviorSaved) {\r\n            setAction(\"Slow Scroll Detected\");\r\n            saveBehavior(\"Scroll Velocity (<30px/s)\", cappedVelocity.toFixed(1));\r\n            triggerEnlargeMode();\r\n            window.scrollBehaviorSaved = true;\r\n            setTimeout(() => (window.scrollBehaviorSaved = false), 4000); // reset after 4s\r\n          }\r\n        }, 2000);\r\n      }\r\n    };\r\n\r\n    lastScrollY.current = window.scrollY;\r\n    lastTime.current = Date.now();\r\n\r\n    window.addEventListener(\"scroll\", handleScroll, { passive: true });\r\n    return () => window.removeEventListener(\"scroll\", handleScroll);\r\n  }, [scrollVelocity, triggerEnlargeMode, saveBehavior]);\r\n\r\n  // --- HOVER HANDLERS ---\r\n  const handleMouseEnter = useCallback(\r\n    (id) => {\r\n      hoverStartTime.current = Date.now();\r\n      const hoverInterval = setInterval(() => {\r\n        const elapsed = ((Date.now() - hoverStartTime.current) / 1000).toFixed(1);\r\n        setHoverDuration(elapsed);\r\n      }, 100);\r\n      window.hoverInterval = hoverInterval;\r\n\r\n      setTimeout(() => {\r\n        setFocusMode(true);\r\n        setFocusedChatIds((prev) => (prev.includes(id) ? prev : [...prev, id]));\r\n        setAction(\"Focus View\");\r\n\r\n        clearTimeout(window.focusTimeout);\r\n        window.focusTimeout = setTimeout(() => {\r\n          setFocusMode(false);\r\n          setFocusedChatIds([]);\r\n          if (!clickModeActive) setAction(\"Normal Layout\");\r\n        }, 10000);\r\n      }, 3000);\r\n    },\r\n    [clickModeActive]\r\n  );\r\n\r\n  const handleMouseLeave = useCallback(() => {\r\n    clearInterval(window.hoverInterval);\r\n    setHoverDuration(0);\r\n    hoverStartTime.current = null;\r\n    if (hoverStartTime.current) {\r\n      const elapsed = (Date.now() - hoverStartTime.current) / 1000;\r\n      if (elapsed >= 2) {\r\n        saveBehavior(\"Hover Duration (>=2s)\", `${elapsed.toFixed(1)}s`);\r\n      }\r\n    }\r\n    if (!clickModeActive) setAction(\"Hovering over classes\");\r\n  }, [clickModeActive, saveBehavior]);\r\n\r\n  // --- CLICK ERROR MODE ---\r\n  const triggerClickErrorMode = useCallback(\r\n    (rate) => {\r\n      const container = document.querySelector(`.${containerClass}`);\r\n      if (!container) return;\r\n\r\n      setClickModeActive(true);\r\n      setAction(\"Click Error Mode\");\r\n      saveBehavior(\"Click Error Rate Trigger (>15%)\", `${rate.toFixed(1)}%`);\r\n      container?.classList.add(\"click-error-enlarged\");\r\n\r\n      clearTimeout(clickModeTimeoutRef.current);\r\n      clickModeTimeoutRef.current = setTimeout(() => {\r\n        setClickModeActive(false);\r\n        container.classList.remove(\"click-error-enlarged\");\r\n        totalClicksRef.current = 0;\r\n        errorClicksRef.current = 0;\r\n        setClickErrorRate(0);\r\n        setAction(\"Normal Layout\");\r\n      }, 10000);\r\n    },\r\n    [containerClass, saveBehavior]\r\n  );\r\n\r\n  // --- DIM BACKGROUND ---\r\n  useEffect(() => {\r\n    const resetIdleTimer = () => {\r\n      clearTimeout(idleTimerRef.current);\r\n      idleTimerRef.current = setTimeout(() => {\r\n        if (isDimmed) {\r\n          document.body.classList.remove(\"dim-background\");\r\n          setIsDimmed(false);\r\n          setAction(\"UI Restored (User Idle)\");\r\n          saveBehavior(\"Action\", \"UI Restored (User Idle)\");\r\n        }\r\n      }, 10000);\r\n    };\r\n\r\n    const handleActivity = () => {\r\n      const now = Date.now();\r\n      if (!activeStartTimeRef.current) activeStartTimeRef.current = now;\r\n\r\n      const elapsed = (now - activeStartTimeRef.current) / 1000;\r\n      if (elapsed >= 3000 && !isDimmed) {\r\n        document.body.classList.add(\"dim-background\");\r\n        setIsDimmed(true);\r\n        setAction(\"UI Dimmed\");\r\n        saveBehavior(\"Action\", \"UI Dimmed\");\r\n      }\r\n      resetIdleTimer();\r\n    };\r\n\r\n    const handleIdleReset = () => {\r\n      activeStartTimeRef.current = null;\r\n    };\r\n\r\n    window.addEventListener(\"scroll\", handleActivity, { passive: true });\r\n    window.addEventListener(\"mousemove\", handleActivity);\r\n    window.addEventListener(\"click\", handleActivity);\r\n    window.addEventListener(\"keydown\", handleActivity);\r\n    window.addEventListener(\"blur\", handleIdleReset);\r\n\r\n    return () => {\r\n      window.removeEventListener(\"scroll\", handleActivity);\r\n      window.removeEventListener(\"mousemove\", handleActivity);\r\n      window.removeEventListener(\"click\", handleActivity);\r\n      window.removeEventListener(\"keydown\", handleActivity);\r\n      window.removeEventListener(\"blur\", handleIdleReset);\r\n      clearTimeout(idleTimerRef.current);\r\n    };\r\n  }, [isDimmed, saveBehavior]);\r\n\r\n  // --- CLICK TRACKING ---\r\n  useEffect(() => {\r\n    const handleClick = (e) => {\r\n      totalClicksRef.current += 1;\r\n      const insideContainer = !!e.target.closest(`.${containerClass}`);\r\n      if (!insideContainer) errorClicksRef.current += 1;\r\n\r\n      const rawRate = (errorClicksRef.current / totalClicksRef.current) * 100;\r\n      const maxRate = 20;\r\n      const smoothingFactor = 0.1;\r\n      const easedRate =\r\n        rawRate > maxRate\r\n          ? clickErrorRate + (maxRate - clickErrorRate) * smoothingFactor\r\n          : rawRate;\r\n\r\n      setClickErrorRate(easedRate);\r\n      if (easedRate >= 14 && !clickModeActive) triggerClickErrorMode(easedRate);\r\n    };\r\n\r\n    document.addEventListener(\"click\", handleClick);\r\n    return () => document.removeEventListener(\"click\", handleClick);\r\n  }, [clickErrorRate, clickModeActive, triggerClickErrorMode, containerClass]);\r\n\r\n  return {\r\n    scrollVelocity,\r\n    hoverDuration,\r\n    clickErrorRate,\r\n    action,\r\n    handleMouseEnter,\r\n    handleMouseLeave,\r\n    clickModeActive,\r\n    focusMode,\r\n    focusedChatIds,\r\n  };\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}